{"version":3,"sources":["components/Reader/Reader.module.css","components/Counter/Counter.module.css","components/Publication/Publication.module.css","components/routes.js","components/Controls/Controls.jsx","components/Counter/Counter.jsx","components/Publication/Publication.jsx","components/Reader/Reader.jsx","components/App.jsx","index.jsx","components/Controls/Controls.module.css"],"names":["module","exports","Controls","onPublication","index","length","step","className","controls","type","name","button","onClick","disabled","defaultProps","Counter","counter","Publication","publication","title","text","number","publications","App","state","curentPublication","pushLocationInHistory","item","props","history","push","location","search","getItemPramsFromProps","qs","parse","slice","handlePublication","e","target","this","setState","Number","prevProps","reader","onDecrement","handleIncrement","Component","path","routes","component","Reader","to","ReactDOM","render","document","querySelector"],"mappings":"oIACAA,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,aAAe,oC,+HCDlB,EACL,U,+FCIJC,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,MAAOC,EAAzB,EAAyBA,OAAQC,EAAjC,EAAiCA,KAAjC,OACf,6BAASC,UAAWC,YAClB,4BACEC,KAAK,SACLC,KAAK,WACLH,UAAWI,SACXC,QAAST,EACTU,SAAUT,IAAUE,GALtB,kCASA,4BACEG,KAAK,SACLC,KAAK,OACLH,UAAWI,SACXC,QAAST,EACTU,SAAUT,IAAUC,GALtB,0CAYJH,EAASY,aAAe,CACtBV,MAAO,GAUMF,Q,QCnCTa,EAAU,SAAC,GAAD,IAAGX,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACd,uBAAGE,UAAWS,WACXZ,EADH,IACWC,IAIbU,EAAQD,aAAe,CACrBV,MAAO,GAQMW,Q,QCCAE,EAhBK,SAAC,GAA8C,IAAD,IAA3CC,YAAeC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAAQC,EAAa,EAAbA,OACnD,OACE,6BAASd,UAAWe,gBAClB,4BACGD,EADH,KACaF,GAEb,2BAAIC,K,kOCDWG,E,2MACnBjB,KAAO,E,EAEPkB,MAAQ,CACNC,kBAAmB,M,EAmBrBC,sBAAwB,SAAAC,GAAI,OAC1B,EAAKC,MAAMC,QAAQC,K,yVAAnB,IACK,EAAKF,MAAMG,SADhB,CAEEC,OAAO,QAAD,OAAUL,O,EAGpBM,sBAAwB,SAAAL,GAAK,OAAIM,IAAGC,MAAMP,EAAMG,SAASC,OAAOI,MAAM,K,EAQtEC,kBAAoB,SAAAC,GAAC,MACD,SAAlBA,EAAEC,OAAO7B,KACL,EAAKgB,sBAAsB,EAAKF,MAAMC,kBAAoB,EAAKnB,MAC/D,EAAKoB,sBAAsB,EAAKF,MAAMC,kBAAoB,EAAKnB,O,mFAhChDkC,KAAKZ,MAAMG,SAAtBC,QACKQ,KAAKd,sBAAsBc,KAAKlC,MAF3B,IAIVqB,EAASa,KAAKP,sBAAsBO,KAAKZ,OAAzCD,KACJA,EAAOL,EAAajB,OACtBmC,KAAKd,sBAAsBJ,EAAajB,QAGtCsB,EAAOa,KAAKlC,KACdkC,KAAKd,sBAAsBc,KAAKlC,MAGlCkC,KAAKC,SAAS,CAAEhB,kBAAmBiB,OAAOf,O,yCAWzBgB,GACjB,GAAIH,KAAKZ,MAAMG,SAASC,SAAWW,EAAUZ,SAASC,OAAtD,CAD4B,IAEpBL,EAASa,KAAKP,sBAAsBO,KAAKZ,OAAzCD,KACRa,KAAKC,SAAS,CAAEhB,kBAAmBiB,OAAOf,Q,+BAQlC,IACAF,EAAsBe,KAAKhB,MAA3BC,kBACR,OACE,yBAAKlB,UAAWqC,UACd,kBAAC,EAAD,CACEzC,cAAeqC,KAAKH,kBACpBQ,YAAaL,KAAKM,gBAClB1C,MAAOqB,EACPpB,OAAQiB,EAAajB,OACrBC,KAAMkC,KAAKlC,OAGb,kBAAC,EAAD,CAASF,MAAOqB,EAAmBpB,OAAQiB,EAAajB,SAEvDoB,GACC,kBAAC,EAAD,CACEP,YAAaI,EAAaG,EAAoBe,KAAKlC,MACnDe,OAAQI,S,GA3DasB,aCSlBxB,EAbH,WACV,OACE,kBAAC,IAAD,KACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOyB,KAAMC,EAAeC,UAAWC,IACvC,kBAAC,IAAD,CAAUC,GAAIH,QCPxBI,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,W,qkgBCHhDxD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,4B","file":"static/js/main.9095f9ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3FX_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3fOTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publications\":\"Publication_publications__2G-np\"};","export default {\n  READER: '/reader',\n};\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { controls, button } from './Controls.module.css';\r\n\r\nconst Controls = ({ onPublication, index, length, step }) => (\r\n  <section className={controls}>\r\n    <button\r\n      type=\"button\"\r\n      name=\"previous\"\r\n      className={button}\r\n      onClick={onPublication}\r\n      disabled={index === step}\r\n    >\r\n      Назад\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      name=\"next\"\r\n      className={button}\r\n      onClick={onPublication}\r\n      disabled={index === length}\r\n    >\r\n      Вперед\r\n    </button>\r\n  </section>\r\n);\r\n\r\nControls.defaultProps = {\r\n  index: 1,\r\n};\r\n\r\nControls.propTypes = {\r\n  onPublication: T.func.isRequired,\r\n  index: T.number,\r\n  length: T.number.isRequired,\r\n  step: T.number.isRequired,\r\n};\r\n\r\nexport default Controls;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport { counter } from './Counter.module.css';\r\n\r\nconst Counter = ({ index, length }) => (\r\n  <p className={counter}>\r\n    {index}/{length}\r\n  </p>\r\n);\r\n\r\nCounter.defaultProps = {\r\n  index: 1,\r\n};\r\n\r\nCounter.propTypes = {\r\n  index: T.number,\r\n  length: T.number.isRequired,\r\n};\r\n\r\nexport default Counter;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport { publications } from './Publication.module.css';\r\n\r\nconst Publication = ({ publication: { title, text }, number }) => {\r\n  return (\r\n    <article className={publications}>\r\n      <h2>\r\n        {number}. {title}\r\n      </h2>\r\n      <p>{text}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nPublication.propTypes = {\r\n  number: T.number.isRequired,\r\n  publication: T.object.isRequired,\r\n};\r\n\r\nexport default Publication;\r\n","import React, { Component } from 'react';\r\nimport qs from 'qs';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { reader } from './Reader.module.css';\r\nimport publications from '../../bd/publications.json';\r\nimport Controls from '../Controls/Controls';\r\nimport Counter from '../Counter/Counter';\r\nimport Publication from '../Publication/Publication';\r\n\r\nexport default class App extends Component {\r\n  step = 1;\r\n\r\n  state = {\r\n    curentPublication: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { search } = this.props.location;\r\n    if (!search) this.pushLocationInHistory(this.step);\r\n\r\n    const { item } = this.getItemPramsFromProps(this.props);\r\n    if (item > publications.length) {\r\n      this.pushLocationInHistory(publications.length);\r\n      return;\r\n    }\r\n    if (item < this.step) {\r\n      this.pushLocationInHistory(this.step);\r\n      return;\r\n    }\r\n    this.setState({ curentPublication: Number(item) });\r\n  }\r\n\r\n  pushLocationInHistory = item =>\r\n    this.props.history.push({\r\n      ...this.props.location,\r\n      search: `item=${item}`,\r\n    });\r\n\r\n  getItemPramsFromProps = props => qs.parse(props.location.search.slice(1));\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.search === prevProps.location.search) return;\r\n    const { item } = this.getItemPramsFromProps(this.props);\r\n    this.setState({ curentPublication: Number(item) });\r\n  }\r\n\r\n  handlePublication = e =>\r\n    e.target.name === 'next'\r\n      ? this.pushLocationInHistory(this.state.curentPublication + this.step)\r\n      : this.pushLocationInHistory(this.state.curentPublication - this.step);\r\n\r\n  render() {\r\n    const { curentPublication } = this.state;\r\n    return (\r\n      <div className={reader}>\r\n        <Controls\r\n          onPublication={this.handlePublication}\r\n          onDecrement={this.handleIncrement}\r\n          index={curentPublication}\r\n          length={publications.length}\r\n          step={this.step}\r\n        />\r\n\r\n        <Counter index={curentPublication} length={publications.length} />\r\n\r\n        {curentPublication && (\r\n          <Publication\r\n            publication={publications[curentPublication - this.step]}\r\n            number={curentPublication}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport routes from './routes';\nimport Reader from './Reader/Reader';\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <>\n        <Switch>\n          <Route path={routes.READER} component={Reader} />\n          <Redirect to={routes.READER} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__S_SVv\",\"button\":\"Controls_button__VBg3C\"};"],"sourceRoot":""}